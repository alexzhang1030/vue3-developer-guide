<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Vite | Vue 3 开发指南</title>
    <meta name="generator" content="VuePress 1.8.3">
    
    <meta name="description" content="">
    
    <link rel="preload" href="/vue3-developer-guide/assets/css/0.styles.6490f758.css" as="style"><link rel="preload" href="/vue3-developer-guide/assets/js/app.603dd578.js" as="script"><link rel="preload" href="/vue3-developer-guide/assets/js/2.6f75f9eb.js" as="script"><link rel="preload" href="/vue3-developer-guide/assets/js/24.040f247d.js" as="script"><link rel="prefetch" href="/vue3-developer-guide/assets/js/10.3ecf85e3.js"><link rel="prefetch" href="/vue3-developer-guide/assets/js/11.b93cb021.js"><link rel="prefetch" href="/vue3-developer-guide/assets/js/12.85a96397.js"><link rel="prefetch" href="/vue3-developer-guide/assets/js/13.71e4a2ca.js"><link rel="prefetch" href="/vue3-developer-guide/assets/js/14.4dc805d4.js"><link rel="prefetch" href="/vue3-developer-guide/assets/js/15.e373cbb0.js"><link rel="prefetch" href="/vue3-developer-guide/assets/js/16.750946a9.js"><link rel="prefetch" href="/vue3-developer-guide/assets/js/17.4cb9f02b.js"><link rel="prefetch" href="/vue3-developer-guide/assets/js/18.3d7f4474.js"><link rel="prefetch" href="/vue3-developer-guide/assets/js/19.5a7881a7.js"><link rel="prefetch" href="/vue3-developer-guide/assets/js/20.3f6b52d8.js"><link rel="prefetch" href="/vue3-developer-guide/assets/js/21.58710401.js"><link rel="prefetch" href="/vue3-developer-guide/assets/js/22.8c7af72a.js"><link rel="prefetch" href="/vue3-developer-guide/assets/js/23.84a87eed.js"><link rel="prefetch" href="/vue3-developer-guide/assets/js/25.316de1fa.js"><link rel="prefetch" href="/vue3-developer-guide/assets/js/3.f4860236.js"><link rel="prefetch" href="/vue3-developer-guide/assets/js/4.c236bb68.js"><link rel="prefetch" href="/vue3-developer-guide/assets/js/5.ace90c84.js"><link rel="prefetch" href="/vue3-developer-guide/assets/js/6.a362df5d.js"><link rel="prefetch" href="/vue3-developer-guide/assets/js/7.1859d0b1.js"><link rel="prefetch" href="/vue3-developer-guide/assets/js/8.7205eaac.js"><link rel="prefetch" href="/vue3-developer-guide/assets/js/9.bf87aa4a.js">
    <link rel="stylesheet" href="/vue3-developer-guide/assets/css/0.styles.6490f758.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/vue3-developer-guide/" class="home-link router-link-active"><!----> <span class="site-name">Vue 3 开发指南</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/vue3-developer-guide/01-Vue3/" class="nav-link">
  Vue 3 基础语法
</a></div><div class="nav-item"><a href="/vue3-developer-guide/02-VueRouter/" class="nav-link">
  Vue Router
</a></div><div class="nav-item"><a href="/vue3-developer-guide/03-Pinia/" class="nav-link">
  Pinia
</a></div><div class="nav-item"><a href="/vue3-developer-guide/04-Typescript/" class="nav-link">
  Typescript
</a></div><div class="nav-item"><a href="/vue3-developer-guide/05-cli-develop/" class="nav-link router-link-active">
  脚手架建设
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/vue3-developer-guide/01-Vue3/" class="nav-link">
  Vue 3 基础语法
</a></div><div class="nav-item"><a href="/vue3-developer-guide/02-VueRouter/" class="nav-link">
  Vue Router
</a></div><div class="nav-item"><a href="/vue3-developer-guide/03-Pinia/" class="nav-link">
  Pinia
</a></div><div class="nav-item"><a href="/vue3-developer-guide/04-Typescript/" class="nav-link">
  Typescript
</a></div><div class="nav-item"><a href="/vue3-developer-guide/05-cli-develop/" class="nav-link router-link-active">
  脚手架建设
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>05 Cli Develop</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/vue3-developer-guide/05-cli-develop/" aria-current="page" class="sidebar-link">脚手架建设</a></li><li><a href="/vue3-developer-guide/05-cli-develop/pnpm.html" class="sidebar-link">PNpm</a></li><li><a href="/vue3-developer-guide/05-cli-develop/vite.html" aria-current="page" class="active sidebar-link">Vite</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vue3-developer-guide/05-cli-develop/vite.html#什么是-vite" class="sidebar-link">什么是 Vite</a></li><li class="sidebar-sub-header"><a href="/vue3-developer-guide/05-cli-develop/vite.html#为什么选-vite" class="sidebar-link">为什么选 Vite</a></li><li class="sidebar-sub-header"><a href="/vue3-developer-guide/05-cli-develop/vite.html#start" class="sidebar-link">Start</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vue3-developer-guide/05-cli-develop/vite.html#搭建第一个-vite-项目" class="sidebar-link">搭建第一个 vite 项目</a></li><li class="sidebar-sub-header"><a href="/vue3-developer-guide/05-cli-develop/vite.html#index-html-与根目录" class="sidebar-link">index.html 与根目录</a></li><li class="sidebar-sub-header"><a href="/vue3-developer-guide/05-cli-develop/vite.html#命令行界面" class="sidebar-link">命令行界面</a></li></ul></li><li class="sidebar-sub-header"><a href="/vue3-developer-guide/05-cli-develop/vite.html#功能部分" class="sidebar-link">功能部分</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vue3-developer-guide/05-cli-develop/vite.html#npm-依赖创建与预构建" class="sidebar-link">npm 依赖创建与预构建</a></li><li class="sidebar-sub-header"><a href="/vue3-developer-guide/05-cli-develop/vite.html#模块热重载" class="sidebar-link">模块热重载</a></li><li class="sidebar-sub-header"><a href="/vue3-developer-guide/05-cli-develop/vite.html#typescript" class="sidebar-link">Typescript</a></li><li class="sidebar-sub-header"><a href="/vue3-developer-guide/05-cli-develop/vite.html#vue" class="sidebar-link">Vue</a></li><li class="sidebar-sub-header"><a href="/vue3-developer-guide/05-cli-develop/vite.html#jsx" class="sidebar-link">jsx</a></li><li class="sidebar-sub-header"><a href="/vue3-developer-guide/05-cli-develop/vite.html#css" class="sidebar-link">CSS</a></li><li class="sidebar-sub-header"><a href="/vue3-developer-guide/05-cli-develop/vite.html#静态资源处理" class="sidebar-link">静态资源处理</a></li><li class="sidebar-sub-header"><a href="/vue3-developer-guide/05-cli-develop/vite.html#json" class="sidebar-link">JSON</a></li></ul></li><li class="sidebar-sub-header"><a href="/vue3-developer-guide/05-cli-develop/vite.html#使用插件" class="sidebar-link">使用插件</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vue3-developer-guide/05-cli-develop/vite.html#添加一个插件" class="sidebar-link">添加一个插件</a></li><li class="sidebar-sub-header"><a href="/vue3-developer-guide/05-cli-develop/vite.html#查找插件" class="sidebar-link">查找插件</a></li></ul></li><li class="sidebar-sub-header"><a href="/vue3-developer-guide/05-cli-develop/vite.html#构建生产版本" class="sidebar-link">构建生产版本</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vue3-developer-guide/05-cli-develop/vite.html#浏览器兼容性" class="sidebar-link">浏览器兼容性</a></li></ul></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="vite"><a href="#vite" class="header-anchor">#</a> Vite</h1> <h2 id="什么是-vite"><a href="#什么是-vite" class="header-anchor">#</a> 什么是 Vite</h2> <p><a href="https://cn.vitejs.dev/" target="_blank" rel="noopener noreferrer">vite 官方文档<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><code>vite</code> 是一个新型前端构建工具，具有极快的热更新（基于 ES Module），与 Webpack 相比提升了大量的开发体验</p> <h2 id="为什么选-vite"><a href="#为什么选-vite" class="header-anchor">#</a> 为什么选 Vite</h2> <p>查看 <a href="https://cn.vitejs.dev/guide/why.html" target="_blank" rel="noopener noreferrer">为什么选择 Vite<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 获取更多相关信息</p> <h2 id="start"><a href="#start" class="header-anchor">#</a> Start</h2> <h3 id="搭建第一个-vite-项目"><a href="#搭建第一个-vite-项目" class="header-anchor">#</a> 搭建第一个 vite 项目</h3> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">pnpm</span> create vite
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>之后安装提示操作即可</p> <h3 id="index-html-与根目录"><a href="#index-html-与根目录" class="header-anchor">#</a> <code>index.html</code> 与根目录</h3> <p>你可能会看到，创建的 <code>index.html</code> 不是在项目的根目录而是在 <code>public</code> 文件夹中，这是因为在开发时 vite 是一个服务器，而 <code>index.html</code> 将视为你开发项目的根目录</p> <p>Vite 将 index.html 视为源码和模块图的一部分。Vite 解析 <code>&lt;script type=&quot;module&quot; src=&quot;...&quot;&gt;</code> ，这个标签指向你的 JavaScript 源码。甚至内联引入 JavaScript 的 <code>&lt;script type=&quot;module&quot;&gt;</code> 和引用 CSS 的 <code>&lt;link href&gt;</code> 也能利用 Vite 特有的功能被解析。另外，index.html 中的 URL 将被自动转换，因此不再需要 <code>%PUBLIC_URL%</code> 占位符了。</p> <h3 id="命令行界面"><a href="#命令行界面" class="header-anchor">#</a> 命令行界面</h3> <p>在安装了 Vite 的项目中，可以在 npm scripts 中使用 vite 可执行文件，或者直接使用 <code>npx vite</code> 运行它。下面是通过脚手架创建的 Vite 项目中默认的 npm scripts：</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;dev&quot;</span><span class="token operator">:</span> <span class="token string">&quot;vite&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 启动开发服务器，别名：`vite dev`，`vite serve`</span>
    <span class="token property">&quot;build&quot;</span><span class="token operator">:</span> <span class="token string">&quot;vite build&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 为生产环境构建产物</span>
    <span class="token property">&quot;preview&quot;</span><span class="token operator">:</span> <span class="token string">&quot;vite preview&quot;</span> <span class="token comment">// 本地预览生产构建产物</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="功能部分"><a href="#功能部分" class="header-anchor">#</a> 功能部分</h2> <h3 id="npm-依赖创建与预构建"><a href="#npm-依赖创建与预构建" class="header-anchor">#</a> npm 依赖创建与预构建</h3> <p>原生 ES 导入不支持下面这样的裸模块导入：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> someMethod <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'my-dep'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>上面的代码会在浏览器中抛出一个错误。Vite 将会检测到所有被加载的源文件中的此类裸模块导入，并执行以下操作:</p> <ul><li>预构建，提高页面加载速度，并将 CommonJS/UMD 转为 ESM 格式的</li> <li>重写导入为合法的 URL，例如 <code>/node_modules/.vite/my-dep.js?v=f3sf2ebd</code> 以便浏览器能够正确导入它们。</li></ul> <h3 id="模块热重载"><a href="#模块热重载" class="header-anchor">#</a> 模块热重载</h3> <p>Vite 提供了一套原生 ESM 的 HMR API。 具有 HMR 功能的框架可以利用该 API 提供即时、准确的更新，而无需重新加载页面或清除应用程序状态。Vite 内置了 HMR 到 Vue 单文件组件（SFC） 和 React Fast Refresh 中。也通过 @prefresh/vite 对 Preact 实现了官方集成。</p> <p>注意，你不需要手动设置这些 —— 当你通过 <code>create-vite</code> 创建应用程序时，所选模板已经为你预先配置了这些。</p> <h3 id="typescript"><a href="#typescript" class="header-anchor">#</a> Typescript</h3> <p>Vite 天然支持引入 <code>.ts</code> 文件</p> <p>Vite 仅执行 <code>.ts</code> 文件的转译工作，并 不 执行任何类型检查。并假设类型检查已经被你的 IDE 或构建过程接管了（你可以在构建脚本中运行 <code>tsc --noEmit</code> 或者安装 <code>vue-tsc</code> 然后运行 <code>vue-tsc --noEmit</code> 来对你的 <code>*.vue</code> 文件做类型检查）。</p> <p>Vite 使用 esbuild 将 TypeScript 转译到 JavaScript，约是 tsc 速度的 20~30 倍，同时 HMR 更新反映到浏览器的时间小于 50ms。</p> <p>查看 <a href="https://cn.vitejs.dev/guide/features.html#typescript-compiler-options" target="_blank" rel="noopener noreferrer">这里<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 获取 Typescript 的编译选项</p> <h3 id="vue"><a href="#vue" class="header-anchor">#</a> Vue</h3> <p>Vite 为 Vue 提供了第一优先支持</p> <ul><li>Vue 3 单文件支持：<a href="https://github.com/vitejs/vite/tree/main/packages/plugin-vue" target="_blank" rel="noopener noreferrer">@vitejs/plugin-vue<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>Vue 3 jsx 支持：<a href="https://github.com/vitejs/vite/tree/main/packages/plugin-vue" target="_blank" rel="noopener noreferrer">@vitejs/plugin-vue-jsx<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <h3 id="jsx"><a href="#jsx" class="header-anchor">#</a> jsx</h3> <p><code>.jsx</code> 和 <code>.tsx</code> 文件同样开箱即用</p> <p>查看 <a href="https://cn.vitejs.dev/guide/features.html#jsx" target="_blank" rel="noopener noreferrer">这里<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 获取更多有关 jsx 的支持</p> <h3 id="css"><a href="#css" class="header-anchor">#</a> CSS</h3> <p>通过导入 <code>.css</code> 文件会将内容插入到 <code>&lt;style&gt;</code> 中，同样支持热更新</p> <p>查看 <a href="https://cn.vitejs.dev/guide/features.html#css" target="_blank" rel="noopener noreferrer">这里<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 获取更多有关 CSS 的支持</p> <h3 id="静态资源处理"><a href="#静态资源处理" class="header-anchor">#</a> 静态资源处理</h3> <p>导入一个静态资源会返回解析后的 URL：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">import</span> imgUrl <span class="token keyword">from</span> <span class="token string">'./img.png'</span>
document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'hero-img'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>src <span class="token operator">=</span> imgUrl
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>添加一些特殊的查询参数来更改资源引入的方式：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 显式加载资源为一个 URL</span>
<span class="token keyword">import</span> assetAsURL <span class="token keyword">from</span> <span class="token string">'./asset.js?url'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 以字符串形式加载资源</span>
<span class="token keyword">import</span> assetAsString <span class="token keyword">from</span> <span class="token string">'./shader.glsl?raw'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 加载为 Web Worker</span>
<span class="token keyword">import</span> Worker <span class="token keyword">from</span> <span class="token string">'./worker.js?worker'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 在构建时 Web Worker 内联为 base64 字符串</span>
<span class="token keyword">import</span> InlineWorker <span class="token keyword">from</span> <span class="token string">'./worker.js?worker&amp;inline'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="json"><a href="#json" class="header-anchor">#</a> JSON</h3> <p>JSON 可以被直接导入</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 导入整个对象</span>
<span class="token keyword">import</span> json <span class="token keyword">from</span> <span class="token string">'./example.json'</span>
<span class="token comment">// 对一个根字段使用具名导入 —— 有效帮助 treeshaking！</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> field <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./example.json'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="使用插件"><a href="#使用插件" class="header-anchor">#</a> 使用插件</h2> <p>Vite 可以使用插件进行扩展，这得益于 Rollup 优秀的插件接口设计和一部分 Vite 独有的额外选项。这意味着 Vite 用户可以利用 Rollup 插件的强大生态系统，同时根据需要也能够扩展开发服务器和 SSR 功能。</p> <h3 id="添加一个插件"><a href="#添加一个插件" class="header-anchor">#</a> 添加一个插件</h3> <p>若要使用一个插件，需要将它添加到项目的 <code>devDependencies</code> 并在 vite.config.js 配置文件中的 plugins 数组中引入它。例如，要想为传统浏览器提供支持（babel），可以按下面这样使用官方插件 <a href="https://github.com/vitejs/vite/tree/main/packages/plugin-legacy" target="_blank" rel="noopener noreferrer">@vitejs/plugin-legacy<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><code>plugins</code> 也可以接受包含多个插件作为单个元素的预设。这对于使用多个插件实现的复杂特性（如框架集成）很有用。该数组将在内部被扁平化。</p> <p>Falsy 虚值的插件将被忽略，可以用来轻松地启用或停用插件。</p> <h3 id="查找插件"><a href="#查找插件" class="header-anchor">#</a> 查找插件</h3> <div class="custom-block tip"><p class="custom-block-title">注意</p> <p>Vite 旨在为常见的 Web 开发范式提供<strong>开箱即用</strong>的支持。在寻找一个 Vite 或兼容的 Rollup 插件之前，请先查看 功能指引。大量在 Rollup 项目中需要使用插件的用例在 Vite 中已经覆盖到了。</p></div> <p>查看 <a href="https://cn.vitejs.dev/guide/using-plugins.html#finding-plugins" target="_blank" rel="noopener noreferrer">这里<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 获取插件更多内容</p> <h2 id="构建生产版本"><a href="#构建生产版本" class="header-anchor">#</a> 构建生产版本</h2> <p>当需要将应用部署到生产环境时，只需运行 vite build 命令。默认情况下，它使用 <code>&lt;root&gt;/index.html</code> 作为其构建入口点，并生成能够静态部署的应用程序包。</p> <h3 id="浏览器兼容性"><a href="#浏览器兼容性" class="header-anchor">#</a> 浏览器兼容性</h3> <p>用于生产环境的构建包会假设目标浏览器支持现代 JavaScript 语法。默认情况下，Vite 的目标浏览器是指能够 支持原生 ESM script 标签 和 支持原生 ESM 动态导入 的。</p> <p>查看 <a href="https://cn.vitejs.dev/guide/build.html#building-for-production" target="_blank" rel="noopener noreferrer">构建生产版本<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 获取更多相关信息</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/vue3-developer-guide/05-cli-develop/pnpm.html" class="prev">
        PNpm
      </a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/vue3-developer-guide/assets/js/app.603dd578.js" defer></script><script src="/vue3-developer-guide/assets/js/2.6f75f9eb.js" defer></script><script src="/vue3-developer-guide/assets/js/24.040f247d.js" defer></script>
  </body>
</html>
